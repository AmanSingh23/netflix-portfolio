<div class="dashboard-container">
  <!-- Header -->
  <app-header></app-header>

  <!-- Main Content -->
  <main class="dashboard-main">
    <!-- Hero Section -->
    <section class="dashboard-hero" *ngIf="featuredContent.length > 0">
      <div class="dashboard-hero__background">
        <!-- Background Video -->
        <video 
          *ngIf="heroVideoUrl"
          [src]="heroVideoUrl"
          class="dashboard-hero__background-video"
          autoplay
          [muted]="isVideoMuted"
          loop
          playsinline
          preload="auto"
          #heroVideo>
        </video>
        
        <!-- Fallback Background Image -->
        <img 
          [src]="featuredContent[0].image" 
          [alt]="featuredContent[0].title"
          class="dashboard-hero__background-image"
          [class.dashboard-hero__background-image--hidden]="heroVideoUrl">
        <div class="dashboard-hero__background-overlay"></div>
      </div>
      
      <div class="dashboard-hero__content">
        <div class="dashboard-hero__container">
          <div class="dashboard-hero__info">
            <h1 class="dashboard-hero__title" *ngIf="selectedProfile && featuredContent.length > 0">
              {{ selectedProfile.name }}
            </h1>
            <h1 class="dashboard-hero__title" *ngIf="selectedProfile && featuredContent.length === 0">
              {{ selectedProfile.name }} - Senior Developer
            </h1>
            <h1 class="dashboard-hero__title" *ngIf="!selectedProfile">
              AMAN SINGH - Senior Developer
            </h1>
            <p class="dashboard-hero__description">
              Senior Frontend Developer with 6+ years building scalable Angular applications for Fortune 500 clients at Accenture. Delivered 30% performance improvements and 40% reduction in API calls through NgRx implementation. AWS Certified with cybersecurity expertise (ISC2 CC, APISec ACP). Proven technical leadership, client management, and mentoring skills. Specializing in Angular, TypeScript, JavaScript, RxJS, NgRx, and secure application development.
            </p>
            
            <div class="dashboard-hero__actions">
              <button 
                class="dashboard-hero__button dashboard-hero__button--primary"
                (click)="openResume()">
                <svg class="dashboard-hero__button-icon" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8 5v14l11-7z"/>
                </svg>
                <span>Resume</span>
              </button>
              <button 
                class="dashboard-hero__button dashboard-hero__button--secondary"
                (click)="openLinkedIn()">
                <svg class="dashboard-hero__button-icon" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
                <span>LinkedIn</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Video Controls -->
      <div class="dashboard-hero__video-controls" *ngIf="heroVideoUrl">
        <button 
          class="dashboard-hero__mute-button"
          (click)="toggleMute()"
          [class.dashboard-hero__mute-button--muted]="isVideoMuted"
          [attr.aria-label]="isVideoMuted ? 'Unmute video' : 'Mute video'">
          <!-- Volume Up SVG Icon -->
          <svg *ngIf="!isVideoMuted" class="volume-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" fill="currentColor"/>
          </svg>
          <!-- Volume Off SVG Icon -->
          <svg *ngIf="isVideoMuted" class="volume-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" fill="currentColor"/>
          </svg>
        </button>
      </div>
    </section>

    <!-- Content Sections -->
    <div class="dashboard-sections">
      <app-content-section
        *ngFor="let section of sections"
        [section]="section"
        (itemClick)="onContentClick($event)">
      </app-content-section>
    </div>

    <!-- Loading State -->
    <div class="dashboard-loading" *ngIf="isLoading">
      <div class="dashboard-loading__spinner"></div>
      <p class="dashboard-loading__text">Loading your portfolio...</p>
    </div>
  </main>

  <!-- Content Modal -->
  <app-content-modal
    [content]="selectedContent"
    [isOpen]="isModalOpen"
    (close)="onModalClose()"
    (play)="onModalPlay($event)">
  </app-content-modal>
</div>
